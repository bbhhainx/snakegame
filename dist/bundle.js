(()=>{"use strict";var t={834:function(t,e){var i,s,h,a,r,n,o=this&&this.__classPrivateFieldSet||function(t,e,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!h:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?h.call(t,i):h?h.value=i:e.set(t,i),i},f=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Apple=void 0;class c{constructor(t){h.set(this,void 0),a.set(this,{x:320,y:320}),r.set(this,void 0),n.set(this,void 0),o(this,h,t.GRID,"f"),o(this,r,f(this,a,"f").x,"f"),o(this,n,f(this,a,"f").y,"f")}static getInstance(t){return f(i,i,"f",s)||o(i,i,new i(t),"f",s),f(i,i,"f",s)}get x(){return f(this,r,"f")}get y(){return f(this,n,"f")}getRandomInt(t,e){return Math.floor(Math.random()*(e-t))+t}randomPosition(){o(this,r,this.getRandomInt(0,25)*f(this,h,"f"),"f"),o(this,n,this.getRandomInt(0,25)*f(this,h,"f"),"f")}}e.Apple=c,i=c,h=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,s={value:void 0}},34:function(t,e,i){var s,h,a,r,n,o,f,c,d=this&&this.__classPrivateFieldSet||function(t,e,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!h:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?h.call(t,i):h?h.value=i:e.set(t,i),i},w=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Game=void 0;const v=i(834),l=i(912),p=i(606);class u extends l.GameConfig{constructor(){super(16,400,400),s.add(this),h.set(this,void 0),a.set(this,void 0),r.set(this,void 0),n.set(this,void 0),o.set(this,void 0),d(this,h,document.querySelector("canvas"),"f"),d(this,a,w(this,h,"f").getContext("2d"),"f"),d(this,o,0,"f"),d(this,r,p.Snake.getInstance({canvas_height:this.canvas_height,canvas_width:this.canvas_width,GRID:this.GRID}),"f"),d(this,n,v.Apple.getInstance({canvas_height:this.canvas_height,canvas_width:this.canvas_width,GRID:this.GRID}),"f")}drawSnake(){w(this,a,"f").fillStyle="green",w(this,r,"f").cells.forEach(((t,e)=>{w(this,a,"f").fillRect(t.x,t.y,this.GRID-1,this.GRID-1)}))}drawApple(){w(this,a,"f").fillStyle="red",w(this,a,"f").fillRect(w(this,n,"f").x,w(this,n,"f").y,this.GRID-1,this.GRID-1)}runGame(){window.requestAnimationFrame(w(this,s,"m",f).bind(this)),document.addEventListener("keydown",w(this,s,"m",c).bind(this))}}e.Game=u,h=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakMap,s=new WeakSet,f=function t(){var e;window.requestAnimationFrame(w(this,s,"m",t).bind(this)),d(this,o,(e=w(this,o,"f"),++e),"f")<4||(d(this,o,0,"f"),w(this,a,"f").clearRect(0,0,w(this,h,"f").width,w(this,h,"f").height),w(this,r,"f").move(),w(this,r,"f").hitSelf(),w(this,r,"f").eatApple(w(this,n,"f"))&&w(this,n,"f").randomPosition(),this.drawApple(),this.drawSnake())},c=function(t){switch(t.key){case"ArrowLeft":w(this,r,"f").isXMoving()||w(this,r,"f").moveLeft();break;case"ArrowUp":0===w(this,r,"f").dy&&w(this,r,"f").moveUp();break;case"ArrowRight":0===w(this,r,"f").dx&&w(this,r,"f").moveRight();break;case"ArrowDown":0===w(this,r,"f").dy&&w(this,r,"f").moveDown()}}},912:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GameConfig=void 0,e.GameConfig=class{constructor(t,e,i){this.GRID=t,this.canvas_width=e,this.canvas_height=i}}},606:function(t,e){var i,s,h,a,r,n,o,f,c,d,w,v,l=this&&this.__classPrivateFieldSet||function(t,e,i,s,h){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!h)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!h:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?h.call(t,i):h?h.value=i:e.set(t,i),i},p=this&&this.__classPrivateFieldGet||function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)};Object.defineProperty(e,"__esModule",{value:!0}),e.Snake=void 0;class u{constructor(t){h.set(this,void 0),a.set(this,void 0),r.set(this,void 0),n.set(this,void 0),o.set(this,void 0),f.set(this,void 0),c.set(this,void 0),d.set(this,[]),w.set(this,void 0),v.set(this,void 0),l(this,h,t.GRID,"f"),l(this,a,t.canvas_width,"f"),l(this,r,t.canvas_height,"f"),l(this,n,{x:160,y:160},"f"),l(this,o,p(this,n,"f").x,"f"),l(this,f,p(this,n,"f").y,"f"),l(this,c,4,"f"),l(this,w,t.GRID,"f"),l(this,v,0,"f"),l(this,d,[{x:p(this,n,"f").x,y:p(this,n,"f").y}],"f")}static getInstance(t){return p(i,i,"f",s)||l(i,i,new i(t),"f",s),p(i,i,"f",s)}get dx(){return p(this,w,"f")}get dy(){return p(this,v,"f")}get cells(){return p(this,d,"f")}move(){l(this,o,p(this,o,"f")+p(this,w,"f"),"f"),l(this,f,p(this,f,"f")+p(this,v,"f"),"f"),p(this,o,"f")<0&&l(this,o,p(this,a,"f")-p(this,h,"f"),"f"),p(this,o,"f")>=p(this,a,"f")&&l(this,o,0,"f"),p(this,f,"f")<0&&l(this,f,p(this,r,"f")-p(this,h,"f"),"f"),p(this,f,"f")>=p(this,r,"f")&&l(this,f,0,"f"),p(this,d,"f").unshift({x:p(this,o,"f"),y:p(this,f,"f")}),p(this,d,"f").length>p(this,c,"f")&&p(this,d,"f").pop()}moveUp(){l(this,w,0,"f"),l(this,v,-p(this,h,"f"),"f")}moveDown(){l(this,w,0,"f"),l(this,v,p(this,h,"f"),"f")}moveLeft(){l(this,w,-p(this,h,"f"),"f"),l(this,v,0,"f")}moveRight(){l(this,w,p(this,h,"f"),"f"),l(this,v,0,"f")}isXMoving(){return 0!==p(this,w,"f")}isYMoving(){return 0!==p(this,v,"f")}eatApple(t){var e;return p(this,o,"f")===t.x&&p(this,f,"f")===t.y&&(l(this,c,(e=p(this,c,"f"),++e),"f"),!0)}hitSelf(){var t;null===(t=p(this,d,"f"))||void 0===t||t.forEach(((t,e)=>{0!==e&&t.x===p(this,d,"f")[0].x&&t.y===p(this,d,"f")[0].y&&(l(this,o,p(this,n,"f").x,"f"),l(this,f,p(this,n,"f").y,"f"),l(this,d,[{x:p(this,n,"f").x,y:p(this,n,"f").x}],"f"),l(this,c,4,"f"),l(this,w,16,"f"),l(this,v,0,"f"))}))}}e.Snake=u,i=u,h=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,o=new WeakMap,f=new WeakMap,c=new WeakMap,d=new WeakMap,w=new WeakMap,v=new WeakMap,s={value:void 0}}},e={};(new(function i(s){var h=e[s];if(void 0!==h)return h.exports;var a=e[s]={exports:{}};return t[s].call(a.exports,a,a.exports,i),a.exports}(34).Game)).runGame()})();